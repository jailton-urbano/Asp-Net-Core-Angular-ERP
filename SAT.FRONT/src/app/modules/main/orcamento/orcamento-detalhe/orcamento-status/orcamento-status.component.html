<fuse-card class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
    <div class="flex items-center justify-between">
        <div class="text-lg font-medium mt-2"> {{ "Orçamento " + orcamento?.numero }}
        </div>
        <button mat-icon-button (click)="editar()" *ngIf="!isEditing">
            <mat-icon class="icon-size-5 text-right" [svgIcon]="'heroicons_solid:pencil'">
            </mat-icon>
        </button>
        <div class="text-secondary italic" *ngIf="isEditing">Em edição</div>
    </div>
    <div class="flex flex-col mt-4 border-t border-b divide-y font-medium">
        <div class="flex items-center justify-between py-3">
            <div class="text-secondary" [ngClass]="{'text-blue-500': isEditing }">Motivo</div>
            <div *ngIf="!isEditing">{{ orcamento?.orcamentoMotivo?.descricao }}</div>
            <div *ngIf="isEditing">
                <mat-select (selectionChange)="changeMotivo($event.value)"
                    [(value)]="orcamento.orcamentoMotivo.codOrcMotivo" *ngIf="isEditing">
                    <mat-option class='text-blue-500' *ngFor="let m of motivos" [value]="m.codOrcMotivo">
                        {{ m.descricao }}
                    </mat-option>
                </mat-select>
            </div>
        </div>
        <div class="flex items-center justify-between py-3">
            <div class="text-secondary">Status</div>
            <div class="min-h-fit">{{ orcamento?.orcamentoStatus?.nome }}
            </div>
        </div>
        <div class="flex items-center justify-between py-3" [ngClass]="{'text-blue-500': isEditing }">
            <div class="text-secondary">Detalhe</div>
            <div class="min-h-fit">
                {{ orcamento?.detalhe }}
            </div>
        </div>
        <div class="flex items-center justify-between py-3">
            <div class="text-secondary">Data</div>
            <div>
                {{ orcamento?.dataCadastro | date:'dd/MM/yy HH:mm' }}
            </div>
        </div>
        <div class="flex items-center justify-between py-3">
            <div class="text-secondary">Utiliza lista específica?</div>
            <div>
                {{ orcamento?.isMaterialEspecifico ? 'SIM' : 'NÃO' }}
            </div>
        </div>
    </div>
    <div class="flex justify-end mt-2" *ngIf="isEditing">
        <button mat-icon-button (click)="salvar()" [disabled]="isEqual() || isInvalid()">
            <mat-icon class="icon-size-6 text-right text-green-500" [svgIcon]="'heroicons_solid:check-circle'">
            </mat-icon>
        </button>
        <button mat-icon-button (click)="cancelar()">
            <mat-icon class="icon-size-6 text-right text-red-500" [svgIcon]="'heroicons_solid:minus-circle'">
            </mat-icon>
        </button>
    </div>
</fuse-card>
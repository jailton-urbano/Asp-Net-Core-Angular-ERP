<div class="flex flex-col flex-auto min-w-0">
  <div class="bg-card">
    <div class="flex flex-col w-full max-w-screen-xl mx-auto px-6 sm:px-8">
      <div class="flex flex-col sm:flex-row flex-auto sm:items-center min-w-0 my-8 sm:my-4">
        <!-- Header -->
        <div class="flex flex-auto items-center min-w-0">
          <div class="flex-1 min-w-0">
            <div class="flex flex-wrap items-center font-medium">
              <div>
                <a class="whitespace-nowrap text-primary-500" routerLink="/default">
                  Home
                </a>
              </div>
              <div class="flex items-center ml-1 whitespace-nowrap">
                <mat-icon class="icon-size-5 text-secondary" [svgIcon]="'heroicons_solid:chevron-right'"></mat-icon>
                <span class="ml-1 text-secondary">Indicadores</span>
              </div>
            </div>

            <div class="mt-2">
              <h2 class="text-3xl md:text-4xl font-extrabold tracking-tight leading-7 sm:leading-10 truncate">
                Dashboard
              </h2>
            </div>
          </div>
        </div>
        <!-- Actions -->
        <div class="flex items-center mt-6 sm:mt-0 sm:ml-2 space-x-3">
          <div class="flex items-center">
            <div class="px-4 py-2 rounded-tl-xl rounded-bl-xl overflow-hidden bg-hover">
              <div class="sm:text-lg leading-6 truncate">{{ dashboards[visaoSelecionada-1]?.nome }}</div>
            </div>
            <!-- Buttons -->
            <div class="ml-px rounded-tr-xl rounded-br-xl bg-hover">
              <button [matMenuTriggerFor]="projectsMenu" mat-icon-button>
                <mat-icon [svgIcon]="'heroicons_outline:dots-horizontal'"></mat-icon>
              </button>
              <mat-menu #projectsMenu="matMenu">
                <div *ngFor="let dashboard of dashboards">
                  <button mat-menu-item (click)="visaoSelecionada=dashboard.id">
                    <span class="truncate">{{ dashboard.nome }}</span>
                  </button>
                </div>
              </mat-menu>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Main -->
  <div class="flex-auto mt-4 sm:mt-6">
    <div class="w-full max-w-screen-xl mx-auto">
      <!-- Tabs -->
      <mat-tab-group class="sm:px-2" [animationDuration]="'0'">
        <!-- Switch Container -->
          <!-- Tab -->
          <mat-tab label="Status das Filiais" *ngIf="visaoSelecionada==1">
            <ng-template matTabContent>
              <div class="grid lg:grid-cols-4 sm:grid-cols-1 md:grid-cols-2 gap-6 w-full min-w-0">
                <!-- Status das Filiais -->
                <div class="sm:col-span-4 lg:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                  <div class="flex flex-col sm:flex-row items-start justify-between">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                      Status das Filiais
                    </div>
                  </div>
                  <div class="flex flex-col flex-auto mt-6">
                    <app-mapa></app-mapa>
                  </div>
                </div>
                <!-- Indicadores das Filiais -->
                <div class="sm:col-span-4 lg:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                  <div class="flex flex-col sm:flex-row items-start justify-between">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                      Indicadores das Filiais
                    </div>
                  </div>
                  <div class="flex flex-col flex-auto mt-6">
                 <app-indicadores-filiais></app-indicadores-filiais>
                  </div>
                </div>
              </div>
            </ng-template>
          </mat-tab>

          <!-- Tab -->
          <mat-tab label="Performance das Filiais" *ngIf="visaoSelecionada==2">
            <ng-template matTabContent>
              <div class="grid lg:grid-cols-4 sm:grid-cols-1 md:grid-cols-2 gap-6 w-full min-w-0">
                <!-- Resultado Geral do DSS -->
                <div
                  class="sm:col-span-4 lg:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                  <div class="flex flex-col sm:flex-row items-start justify-between">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                      Resultado Geral do DSS
                    </div>
                  </div>
                  <div class="flex flex-col flex-auto mt-6">

                  </div>
                </div>
                <!-- Chamados Mais Antigos -->
                <div
                  class="sm:col-span-4 lg:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                  <div class="flex flex-col sm:flex-row items-start justify-between">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                      Chamados Mais Antigos
                    </div>
                  </div>
                  <div class="flex flex-col flex-auto mt-6">
                    <app-chamados-mais-antigos></app-chamados-mais-antigos>
                  </div>
                </div>
              </div>
            </ng-template>
          </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>